---
title: スクリーンショットのシェア
slug: plugins/screenshot
description: 「スクリーンショットのシェア」のプラグインでの利用方法
order: 2
navi: プラグインでの利用方法
---
    
## 目次
 - [スクリーンショット撮影＆モーダル表示](#スクリーンショット撮影＆モーダル表示)
 - [ツイート文章の変更](#ツイート文章の変更)
 - [ツイート内容のゲームURLにクエリを付加する](#ツイート内容のゲームURLにクエリを付加する)
    
## プラグインの利用方法
プラグインでスクリーンショットのシェアを利用するには以下のようにします。
1. プラグインのダウンロード：[AtsumaruScreenshot.js](https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruScreenshot.js) を右クリックで「名前をつけて保存」してダウンロード
1. プロジェクトに追加：ダウンロードしたファイルをプロジェクトのプラグインフォルダに設置
1. 有効化：プロジェクトのプラグイン設定でプラグインをONにする
    
## 機能の呼び出し
    
### スクリーンショット撮影＆モーダル表示
![スクリーンショットプラグイン利用例](/images/screenshot_plugin_sample.png)
    
プラグインコマンドで、次のいずれかのように指定します（どちらでも動作は同じです）。
```
DisplayScreenshotModal
```
あるいは
```
スクリーンショットモーダル表示
```
このとき、プラグイン設定画面でプラグインパラメータ「ツイートしたか」に変数を設定していると、ツイートした場合はその変数に1が、ツイートしていない場合は0が代入されます。
    
### ツイート文章の変更
1. プラグイン設定画面でプラグインパラメータ「ツイート文章」に変数を設定
1. その変数に文章を代入すると、ツイート内容の文章部分が書き換わります
    
#### 例
「ゲーム情報編集」の「スクショツイート文言設定」が `占いゲーム` で、ゲームIDが `gm1234` の場合、そのままモーダルを開くと以下のツイート内容になります。
  
> 占いゲーム #gm1234 #RPGアツマール https://game.nicovideo.jp/atsumaru/games/gm1234?link=share_twitter_sc
  
そこでプラグインパラメータ「ツイート文章」に変数 `0001 ツイート文章` を設定し、この変数に文章を代入してみます。変数に文章を代入するには、「変数の操作」で「スクリプト」を選び、`'文章'` のように `'` で囲む必要があります。下の例のように `'` が含まれていることを確認してください。
  
`◆変数の操作：#0001 ツイート文章 = 'このユーザーの運勢は【大吉】でした。あなたも占ってみませんか？ #占い'`
  
上のイベントコマンドを実行してからモーダルを開くと、以下のようなツイート内容が表示されるようになります。
  
> このユーザーの運勢は【大吉】でした。あなたも占ってみませんか？ #占い #gm1234 #RPGアツマール https://game.nicovideo.jp/atsumaru/games/gm1234?link=share_twitter_sc
    
#### 備考
 - ハッシュタグ `#(ゲームID) #RPGアツマール` とゲームURLは、自動的に付加されます。
 - 上の例の `#占い` のように `#` を用いた文章を含めれば、独自にハッシュタグを付加することができます。
 - 変数に0を代入すると、最初の文章（上の例では `占いゲーム` ）に戻ります。
 - あくまで最初にツイート欄に表示される内容のため、ここからさらにユーザーがツイート内容を自由に編集できます。
    
### ツイート内容のゲームURLにクエリを付加する
1. プラグイン設定画面でプラグインパラメータ「param1」～「param9」に必要な数だけ変数を設定
1. その変数に値を代入すると、ツイート内容のゲームURLにクエリが付加されます
    
#### 例
「ゲーム情報編集」の「スクショツイート文言設定」が `占いゲーム` で、ゲームIDが `gm1234` の場合、そのままモーダルを開くと以下のツイート内容になります。
  
> 占いゲーム #gm1234 #RPGアツマール https://game.nicovideo.jp/atsumaru/games/gm1234?link=share_twitter_sc
  
そこでプラグインパラメータ「param1」に変数 `0011 うんのよさ` を設定し、この変数に値を代入してみます。
  
`◆変数の操作：#0011 うんのよさ = 100`
  
上のイベントコマンドを実行してからモーダルを開くと、以下のようなツイート内容が表示されるようになります。
  
> 占いゲーム #gm1234 #RPGアツマール https://game.nicovideo.jp/atsumaru/games/gm1234?link=share_twitter_sc&amp;param1=100
  
ツイート内容のゲームURLの最後に `param1=100` という記述が追加されます。つまり、このツイートを見た人がこのURLからアクセスしてくると `param1=100` というデータも一緒に渡ってきます。
  
そこで[クエリ情報取得](/copy-query)のプラグインを用いて、ゲーム起動時にこの `param1` の情報を取得してみます。
  
`◆プラグインコマンド：CopyQuery 21`
  
これで変数 `0021 ツイート主のうんのよさ` に `100` が代入されます。ここから例えば、占いをしてツイート主とツイートを見てアクセスした人のどちらが運が良かったか比較したりできます。
    
#### 備考
 - 変数に0を代入すると、そのparamは付加されません。
    
## 関連ドキュメント
    
ドキュメント|リンク|備考
:---|:---|:---
機能解説|[スクリーンショットのシェア](/screenshot)|機能概要や全般的な解説
APIでの利用方法|[スクリーンショットのシェア](/apis/screenshot)|他ゲームエンジンやより高度な利用を必要とするユーザー向け
    
## 最終更新日
 - 2020/02/28
