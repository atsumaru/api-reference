{"path":"apis/shared-save","templateID":1,"sharedPropsHashes":{"apiList":"16g7ha"},"localProps":{"reference":{"title":"共有セーブ","slug":"apis/shared-save","description":"「共有セーブ」のAPIでの利用方法","order":14,"navi":"APIでの利用方法","contents":"<h2 id=\"apiでの利用方法\">APIでの利用方法</h2>\n<h3 id=\"共有セーブの取得\">共有セーブの取得</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.storage.getSharedItems(userIds: number[], gameId?: number)</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">指定したユーザの <code>Atsumaru Shared</code> というキーで保存したセーブデータを取得する。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\"><ul><li><code>userIds</code> : 共有セーブを取得したいユーザーのニコニコユーザーIDの配列を自然数で、最大100件まで指定します。</li><li><code>gameId</code> : 現在プレイ中のゲーム以外からセーブデータを取得する場合、ゲームのIDを自然数で指定します。</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>Promise&lt;SharedSaveItems&gt;</code></td>\n</tr>\n</tbody></table>\n<ul>\n<li><code>userIds</code> で指定したユーザーのセーブデータユーザーのデータを取得できます。</li>\n<li>第二引数の <code>gameId</code> を指定することで、別のゲームの共有セーブを取得できます。</li>\n</ul>\n<h4 id=\"戻り値の型-sharedsaveitems-について\">戻り値の型 SharedSaveItems について</h4>\n<p>戻り値で取得できる <code>SharedSaveItems</code> は以下のような型です。</p>\n<pre><code class=\"language-js\">interface SharedSaveItems {\n    [userId: number]: string;\n}</code></pre>\n<p>プロパティの内容は次のようになっています。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">プロパティ</th>\n<th align=\"left\">型</th>\n<th align=\"left\">内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">[userId: number]</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>userId</code> のIDのユーザーの共有セーブデータを収納します。</td>\n</tr>\n</tbody></table>\n<h4 id=\"戻り値の例\">戻り値の例</h4>\n<pre><code class=\"language-js\">// window.RPGAtsumaru.storage.getSharedItems([123, 456, 789]).then(function(v) { console.log(v) }) を実行\n{\n    123: &quot;ユーザー123の共有データ&quot;,\n    456: &quot;ユーザー456の共有データ&quot;\n    // 789 のユーザーが取得先のゲームで「プレイヤー間通信の有効化」されていない場合は結果に含まれません！\n}</code></pre>\n<h4 id=\"起こりうるエラーの種類\">起こりうるエラーの種類</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">名前</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/common/error\">BAD_REQUEST</a></td>\n<td align=\"left\"><ul><li>指定したグローバルサーバー変数IDがそのゲームのものではない</li><li>引数として不正な値を指定している</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/error\">FORBIDDEN</a></td>\n<td align=\"left\"><code>gameId</code> にアクセス不能なゲームのIDを指定した場合</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/error\">INTERNAL_SERVER_ERROR</a></td>\n<td align=\"left\">ゲームアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/error\">API_CALL_LIMIT_EXCEEDED</a></td>\n<td align=\"left\">短時間にアツマールAPIを利用しすぎて、一時的に利用を制限されている</td>\n</tr>\n</tbody></table>\n<h2 id=\"関連ドキュメント\">関連ドキュメント</h2>\n<table>\n<thead>\n<tr>\n<th align=\"left\">ドキュメント</th>\n<th align=\"left\">リンク</th>\n<th align=\"left\">備考</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">機能解説</td>\n<td align=\"left\"><a href=\"/shared-save\">共有セーブ</a></td>\n<td align=\"left\">機能概要や全般的な解説</td>\n</tr>\n<tr>\n<td align=\"left\">プラグインでの利用方法</td>\n<td align=\"left\"><a href=\"/plugins\">プラグインでの利用方法</a></td>\n<td align=\"left\">RPGツクールシリーズユーザー向け</td>\n</tr>\n</tbody></table>\n<h2 id=\"最終更新日\">最終更新日</h2>\n<ul>\n<li>2020/02/28</li>\n</ul>\n"},"title":"共有セーブ","path":"/apis/shared-save"}}
