{"path":"shared-save","templateID":1,"sharedPropsHashes":{"apiList":"Z219g8E"},"localProps":{"reference":{"title":"共有セーブ","slug":"shared-save","description":"特定のサーバーセーブデータを取得する機能について","order":14,"navi":"機能解説","experimental":true,"contents":"<h2 id=\"概要\">概要</h2>\n<p>指定ユーザーの特定キー（<code>Atsumaru Shared</code>）のサーバーセーブデータを取得できる機能です。このセーブデータのことを「共有セーブ」と呼びます。</p>\n<h2 id=\"なにができるのか\">なにができるのか</h2>\n<p>指定ユーザーの共有セーブを取得できます。この機能だけでは誰からデータを取得すればいいのかわかりませんが、他APIと組み合わせることにより、非同期通信型のゲームが制作可能になります。</p>\n<p>例えば、<a href=\"/user\">ユーザー情報取得</a>で、そのゲームを最近プレイしたユーザーがわかるので、そのユーザーの共有セーブに保存されたデータ（例えばアイテムなど）を取得することで、疑似的なすれ違い通信のようなゲームが作成できます。</p>\n<p>なお、未ログインユーザーは共有セーブをサーバーに保存できませんが、他人の共有セーブを取得することについては問題なく行えます。</p>\n<h2 id=\"例\">例</h2>\n<p>以下のような利用を想定しています。</p>\n<ul>\n<li>選択したアバターと一言メッセージを保存し、表示する広場</li>\n<li>作成したモンスターキャラクターのデータ共有</li>\n</ul>\n<p>例えば、次のサンプルゲームではこの機能を利用し、選択したアバターと一言メッセージを共有セーブに保存しています。</p>\n<ul>\n<li><a href=\"https://game.nicovideo.jp/atsumaru/games/gm9291\">【アツマールAPIサンプル】AsyncProfile（ユーザー情報取得API・共有セーブAPI）</a><ul>\n<li><a href=\"/download/sample-projects#AsyncProfile\">プロジェクトファイルダウンロードはこちら</a></li>\n</ul>\n</li>\n</ul>\n<p>また、こちらのサンプルゲームでは、作成したスライムの情報を共有セーブに保存し、ほかのユーザーの作成したスライムと戦わせています。（バトルの結果は、<a href=\"/signal\">ユーザーシグナル</a>で送信しています）</p>\n<ul>\n<li><a href=\"https://game.nicovideo.jp/atsumaru/games/gm9294\">【アツマールAPIサンプル】スライムバトラー（ユーザーシグナルAPI・共有セーブAPI）</a><ul>\n<li><a href=\"/download/sample-projects#SlimeBattler\">プロジェクトファイルダウンロードはこちら</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"機能詳細\">機能詳細</h2>\n<ul>\n<li>共有対象のデータは、<code>Atsumaru Shared</code> というkeyで保存されたサーバーセーブデータです。</li>\n<li>セーブの保存については<a href=\"/storage\">サーバーセーブ</a>を参照ください。</li>\n<li>共有対象にしたくないデータは、この key を使用しないようにご注意ください。</li>\n<li>本機能でできるのは共有セーブの <strong>取得のみ</strong> で、共有元への書き込みはできません。</li>\n<li>一度に取得できるデータは100件までで、それ以上のデータを一度に取得しようとするとエラーになります。</li>\n</ul>\n<h3 id=\"他のゲームの共有セーブへのアクセス禁止条件\">他のゲームの共有セーブへのアクセス禁止条件</h3>\n<p>取得先のゲームと取得元のゲームが同じ場合、共有セーブへのアクセスは必ず認められます。一方で他のゲームの共有セーブを取得する場合は、以下の条件のうちいずれかに該当した場合、アクセス禁止となり <a href=\"/common/error\">FORBIDDEN</a> エラーが返されます。</p>\n<ul>\n<li>取得先のゲームが公開されていない（ただし取得先のゲームの作者本人は、取得先のゲームが公開されていなくても例外的に共有セーブを取得できます）</li>\n<li>取得先のゲームと取得元のゲームの作者が違う</li>\n</ul>\n<h3 id=\"共有セーブ取得の絞り込み条件\">共有セーブ取得の絞り込み条件</h3>\n<p>前節にかかわらず、以下の条件を満たした共有セーブは取得できません。その場合、取得できるユーザーの共有セーブのみに絞り込まれて返されます。</p>\n<ul>\n<li>指定したユーザーが存在しない</li>\n<li>指定したユーザーの共有セーブが無い</li>\n<li>指定したユーザーが<a href=\"/common/interplayer\">プレイヤー間通信の有効化</a>をしていない（ただし、自分自身の共有セーブはプレイヤー間通信の有効化をしていなくてもセーブを取得できます）</li>\n</ul>\n<h2 id=\"利用方法\">利用方法</h2>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方式</th>\n<th align=\"left\">利用方法</th>\n<th align=\"left\">備考</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">プラグイン</td>\n<td align=\"left\"><a href=\"/plugins\">プラグインでの利用方法</a>を参照</td>\n<td align=\"left\">RPGツクールシリーズユーザー向け</td>\n</tr>\n<tr>\n<td align=\"left\">API</td>\n<td align=\"left\">APIでの利用方法の「<a href=\"/apis/shared-save\">共有セーブ</a>」項を参考に、APIを実装してください</td>\n<td align=\"left\">他ゲームエンジンやより高度な利用を必要とするユーザー向け</td>\n</tr>\n</tbody></table>\n<h2 id=\"最終更新日\">最終更新日</h2>\n<ul>\n<li>2020/09/15</li>\n</ul>\n"},"title":"共有セーブ","path":"/shared-save"}}
